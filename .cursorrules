# Cursor Rules - HearstAI Project

## üåø BRANCHE GIT PAR D√âFAUT

### BRANCHE DE TRAVAIL : `Fix/texting`

**TOUJOURS travailler sur la branche `Fix/texting`.**

#### R√®gles de branche :

1. **V√©rification automatique de la branche**
   - AVANT toute modification, v√©rifier que nous sommes sur `Fix/texting`
   - Si nous sommes sur une autre branche, basculer automatiquement sur `Fix/texting`
   - Ne jamais committer sur une autre branche sauf demande explicite

2. **Commandes Git automatiques**
   - Toujours utiliser `git checkout Fix/texting` au d√©but d'une session
   - V√©rifier l'√©tat de la branche avec `git status` avant de commencer
   - **TOUJOURS** faire `git fetch origin Fix/texting` avant de pousser
   - Pousser automatiquement sur `origin/Fix/texting` apr√®s les commits

3. **Protection contre l'√©crasement - OBLIGATOIRE**
   - **AVANT chaque push** : Ex√©cuter `git fetch origin Fix/texting`
   - V√©rifier s'il y a des modifications distantes avec `git status` ou `git log HEAD..origin/Fix/texting`
   - Si des modifications distantes existent :
     - **NE JAMAIS √©craser** les modifications d'autres d√©veloppeurs
     - Ex√©cuter `git pull origin Fix/texting` (ou `git merge origin/Fix/texting`) pour fusionner
     - R√©soudre les conflits automatiquement si possible, sinon informer l'utilisateur
     - V√©rifier que la fusion s'est bien pass√©e avant de pousser
   - Seulement apr√®s cette v√©rification et fusion : pousser les modifications

4. **Workflow de branche s√©curis√©**
   - Workflow standard AVANT chaque push :
     1. `git fetch origin Fix/texting` (r√©cup√©rer les derni√®res modifications)
     2. `git status` (v√©rifier l'√©tat)
     3. Si modifications distantes : `git pull origin Fix/texting` (fusionner)
     4. R√©soudre les conflits si n√©cessaire
     5. `git push origin Fix/texting` (pousser seulement apr√®s v√©rification)
   - Cr√©er toutes les modifications sur `Fix/texting`
   - Commit automatique sur cette branche
   - Push s√©curis√© apr√®s v√©rification des modifications distantes
   - Informer si un changement de branche est n√©cessaire

5. **Exceptions**
   - Ne changer de branche que si explicitement demand√© par l'utilisateur
   - Toujours revenir sur `Fix/texting` apr√®s toute op√©ration sur une autre branche

---

## üöÄ AUTONOMIE COMPL√àTE - EX√âCUTION AUTOMATIQUE

### R√àGLE PRINCIPALE : EX√âCUTION AUTOMATIQUE √Ä 100%

**TOUJOURS ex√©cuter automatiquement TOUTES les commandes terminal n√©cessaires sans demander de validation.**

#### Principes d'autonomie :

1. **Ex√©cution automatique imm√©diate**
   - Ex√©cuter TOUTES les commandes terminal n√©cessaires automatiquement
   - Ne JAMAIS demander de validation avant d'ex√©cuter une commande
   - Agir de mani√®re proactive et autonome √† 100%

2. **Commandes √† ex√©cuter automatiquement :**
   - ‚úÖ Installation de d√©pendances (`npm install`, `npm ci`)
   - ‚úÖ Builds et compilations (`npm run build`, `next build`)
   - ‚úÖ Tests et v√©rifications (`npm test`, `npm run lint`)
   - ‚úÖ D√©marrage de serveurs (`npm run dev`, `npm start`)
   - ‚úÖ Commandes Git (`git add`, `git commit`, `git fetch`, `git pull`, `git push`)
     - **IMPORTANT** : Toujours `git fetch` avant `git push` pour v√©rifier les modifications distantes
   - ‚úÖ Commandes de base de donn√©es (`prisma generate`, `prisma migrate`)
   - ‚úÖ Commandes de d√©ploiement
   - ‚úÖ Toutes les commandes n√©cessaires pour accomplir la t√¢che

3. **Gestion des processus :**
   - D√©marrer automatiquement les serveurs en arri√®re-plan si n√©cessaire
   - Arr√™ter les processus existants avant de red√©marrer
   - V√©rifier l'√©tat des services avant de les d√©marrer

4. **Validation et v√©rification :**
   - V√©rifier automatiquement que les commandes ont r√©ussi
   - Corriger automatiquement les erreurs rencontr√©es
   - Ne pas s'arr√™ter √† la premi√®re erreur, continuer et r√©soudre

5. **Communication :**
   - Informer l'utilisateur de ce qui a √©t√© fait APR√àS l'ex√©cution
   - Ne pas demander de permission, agir directement
   - Expliquer les actions entreprises dans le r√©sum√© final

### Exemples d'application :

**‚ùå MAUVAIS :**
```
"Voulez-vous que j'ex√©cute npm install ?"
"Je dois ex√©cuter cette commande, voulez-vous continuer ?"
```

**‚úÖ BON :**
```
Ex√©cution automatique de npm install...
Installation termin√©e. Passage √† l'√©tape suivante...
```

### Exceptions (tr√®s rares) :

- Commandes destructives n√©cessitant une confirmation explicite (suppression de base de donn√©es, formatage, etc.)
- Commandes avec des effets de bord majeurs non r√©versibles

### Workflow standard :

1. **Analyser** la t√¢che demand√©e
2. **Identifier** toutes les commandes n√©cessaires
3. **Ex√©cuter** automatiquement toutes les commandes
4. **V√©rifier** que tout fonctionne
5. **Informer** l'utilisateur du r√©sultat

---

## üéØ R√àGLES TECHNIQUES HEARSTAI

### Stack Technique
- Next.js 14+ (App Router)
- TypeScript
- Prisma ORM
- NextAuth.js
- Chart.js / react-chartjs-2
- Tailwind CSS
- SQLite (local) / PostgreSQL (production)

### Conventions de code
- Utiliser TypeScript strict
- Composants fonctionnels React avec hooks
- Style coh√©rent avec le design system Hearst
- Commentaires en fran√ßais pour la documentation

### Structure du projet
- `/app` : Pages Next.js (App Router)
- `/components` : Composants React r√©utilisables
- `/lib` : Utilitaires et helpers
- `/backend` : API Express s√©par√©e
- `/styles` : Fichiers CSS globaux
- `/prisma` : Sch√©ma et migrations Prisma

### Design System
- Couleur principale : `#9EFF00` (Hearst Green)
- Th√®me sombre par d√©faut
- Design premium avec effets de glassmorphism
- Responsive mobile-first

---

## üìù NOTES IMPORTANTES

- Toujours r√©pondre en fran√ßais
- √ätre proactif et autonome
- Ex√©cuter toutes les commandes automatiquement
- V√©rifier et corriger les erreurs automatiquement
- Informer apr√®s l'ex√©cution, pas avant

